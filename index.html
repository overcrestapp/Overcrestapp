<!doctype html>
<html lang="sv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Digital Fordonswhiteboard</title>
    <!-- Tailwind via CDN (ingen build behövs) -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-slate-950 text-slate-100 min-h-screen">
    <div class="max-w-5xl mx-auto p-6">
      <!-- Topp: titel + mätning -->
      <div class="flex items-start justify-between gap-4 mb-6">
        <div>
          <h1 class="text-3xl font-bold tracking-tight">Digital Fordonswhiteboard</h1>
          <form id="addForm" class="mt-3 flex gap-2">
            <input id="vehicleName" type="text" placeholder="ELD 67"
                   class="bg-slate-900/80 border border-slate-800 rounded-xl px-3 py-2 outline-none"
                   aria-label="Fordon">
            <button class="px-3 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 font-semibold">
              Lägg till fordon
            </button>
            <button id="clearAll" type="button"
              class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700"
              title="Ta bort alla rader">Töm tavlan</button>
          </form>
          <div id="count" class="mt-2 text-sm text-slate-400"></div>
        </div>
        <!-- Mätning uppe till höger -->
        <div id="measure" class="flex flex-col gap-2 items-end"></div>
      </div>

      <!-- Lista med fordon -->
      <div id="list" class="space-y-3"></div>
    </div>

    <script>
      // ---- LocalStorage & helpers ----
      const LS_KEY = "fordonswhiteboard_v5";
      const state = loadLS() || { vehicles: [], measures: {} };

      function loadLS(){ try { return JSON.parse(localStorage.getItem(LS_KEY)); } catch { return null; } }
      function saveLS(){ try { localStorage.setItem(LS_KEY, JSON.stringify(state)); } catch {} }
      const uid = () => Math.random().toString(36).slice(2);
      const stamp = () => new Date().toLocaleString("sv-SE", { dateStyle:"short", timeStyle:"short" });

      // ---- UI refs ----
      const listEl = document.getElementById("list");
      const addForm = document.getElementById("addForm");
      const vehicleNameEl = document.getElementById("vehicleName");
      const clearAllBtn = document.getElementById("clearAll");
      const countEl = document.getElementById("count");

      // ---- Render vehicles ----
      function render(){
        listEl.innerHTML = "";
        state.vehicles.forEach(v => listEl.appendChild(vehicleRow(v)));
        countEl.textContent = `${state.vehicles.length} fordon`;
      }

      function vehicleRow(v){
        const wrap = el("div", "flex items-center justify-between bg-slate-900/80 border bord
